
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>NEET Final Mock Test -6</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
body {
  font-family:'Poppins',sans-serif;
  background:#f9fbfd;
  margin:0;
}
.navbar {
  background:linear-gradient(90deg,#1976D2,#42A5F5);
  color:white;
  padding:0.6rem 1rem;
  display:flex;
  justify-content:space-between;
  align-items:center;
  flex-wrap:wrap;
}
.progress-container {
  width:100%;
  background:#ddd;
  height:6px;
  border-radius:5px;
}
.progress-bar {
  width:0%;
  height:6px;
  background:#4caf50;
  border-radius:5px;
  transition:width 0.3s;
}
.question-card {
  background:white;
  padding:1rem;
  border-radius:12px;
  margin-bottom:1rem;
  box-shadow:0 3px 10px rgba(0,0,0,0.08);
}
.option {
  border:1px solid #ccc;
  padding:0.8rem;
  border-radius:8px;
  margin-bottom:0.6rem;
  cursor:pointer;
  transition:0.2s;
}
.option:hover { background:#f5f5f5; }
.option.selected { background:#2196F3; color:white; border-color:#1976D2; }
.option.correct { background:#e8f5e9; border-color:#4caf50; }
.option.incorrect { background:#ffebee; border-color:#f44336; }
img { max-width:100% !important; height:auto; border-radius:6px; }
.bottom-nav {
  position:fixed; bottom:0; left:0; right:0;
  background:white;
  border-top:1px solid #ddd;
  display:flex; justify-content:space-between; flex-wrap:wrap;
  padding:0.8rem;
}
#question-nav button { min-width:35px; margin:0 3px; }
.footer { color:#666; }
.app-name-box {
  display:inline-block;
  background:#1976D2;
  color:white;
  padding:0.4rem 1rem;
  border-radius:12px;
  font-weight:bold;
  font-size:1.1rem;
  animation: floatApp 2s ease-in-out infinite;
}
#remaining-time {
  font-weight:bold;
  color:#d32f2f;
  font-size:1.1rem;
}
@keyframes floatApp {
  0%{ transform:translateY(0); }
  50%{ transform:translateY(-6px); }
  100%{ transform:translateY(0); }
}
</style>
</head>
<body>

<nav class="navbar">
  <div>
    <i class="fas fa-graduation-cap"></i> <span id="ist-time"><i class='far fa-clock'></i> 14:39:56 | 10-10-2025</span>
  </div>
</nav>

<div class="progress-container"><div id="progress-bar" class="progress-bar"></div></div>

<div id="welcome" class="container my-4 text-center">
  <div class="p-4 bg-white rounded shadow-sm">
    <div class="app-name-box mb-2">LEARN X PRO</div>
    <h2>NEET Final Mock Test -6</h2>
    <div id="countdown" class="my-3 text-primary fw-bold fs-5"></div>
    <button class="btn btn-primary w-100 mb-3" onclick="startCountdown()">üöÄ Start Test</button>
    </div>
</div>

<div id="test-area" style="display:none;">
  <div class="container my-3">
    <div class="d-flex justify-content-between mb-2">
      <div id="question-nav" class="text-center"></div>
      <div id="remaining-time">‚è∞ 00:00:00</div>
    </div>
    <div id="question-container"></div>
  </div>
  <div class="bottom-nav">
    <button class="btn btn-light" onclick="prevQuestion()">‚¨Ö Previous</button>
    <button class="btn btn-light" onclick="nextQuestion()">Next ‚û°</button>
    <button class="btn btn-success" id="final-submit-btn" onclick="finalSubmit()">‚úÖ Final Submit</button>
  </div>
</div>

<div id="result-container" class="container my-4 text-center" style="display:none;"></div>
<div class="footer text-center my-4">Generated By : Sonic</div>

<script>
var JSON_URL = 'https://testseries-assets.classx.co.in/test_title_question/firephysics_db/1297/1297_questions0.837809779751612.json';
var questions = [];
var current = 0;
var answers = {};
var submitted = false;
var reviewMode = false;
var timer = null;
var totalSeconds = 0;
var startTime = null;

function updateIST() {
  const now = new Date();
  const utc = now.getTime() + now.getTimezoneOffset() * 60000;
  const istTime = new Date(utc + 5.5 * 3600000);
  const y = istTime.getFullYear();
  const mo = String(istTime.getMonth() + 1).padStart(2,'0');
  const d = String(istTime.getDate()).padStart(2,'0');
  const h = String(istTime.getHours()).padStart(2,'0');
  const m = String(istTime.getMinutes()).padStart(2,'0');
  const s = String(istTime.getSeconds()).padStart(2,'0');
  document.getElementById('ist-time').innerHTML = `<i class='far fa-clock'></i> ${h}:${m}:${s} | ${d}-${mo}-${y}`;
}
setInterval(updateIST, 1000);

async function loadQuestions() {
  try {
    const res = await fetch(JSON_URL);
    const data = await res.json();
    questions = Array.isArray(data)?data:(data.data||[]);
    if(questions.length===0) alert("No questions found");
  } catch(e) {
    alert("Failed to load questions: "+e);
  }
}

function startCountdown() {
  let count = 5;
  const cd = document.getElementById("countdown");
  cd.innerHTML = "‚è≥ Starting in " + count + "s";
  const interval = setInterval(() => {
    count--;
    cd.innerHTML = "‚è≥ Starting in " + count + "s";
    if (count <= 0) {
      clearInterval(interval);
      document.getElementById('welcome').style.display='none';
      document.getElementById('test-area').style.display='block';
      startTest();
    }
  }, 1000);
}

function startTest() {
  totalSeconds = questions.length*60;
  startTime = Date.now();
  renderQuestion(current);
  startTimer();
}

function formatHHMMSS(seconds) {
  const h = String(Math.floor(seconds/3600)).padStart(2,'0');
  const m = String(Math.floor((seconds%3600)/60)).padStart(2,'0');
  const s = String(seconds%60).padStart(2,'0');
  return `${h}:${m}:${s}`;
}

function startTimer() {
  const end = Date.now() + totalSeconds*1000;
  timer = setInterval(() => {
    const remain = Math.floor((end - Date.now())/1000);
    if(remain <= 0) {
      clearInterval(timer);
      finalSubmit();
      return;
    }
    document.getElementById('remaining-time').innerText = `Rem Time : ${formatHHMMSS(remain)}`;
    document.title = `‚è∞ ${formatHHMMSS(remain)} - NEET Final Mock Test -6`; 
  }, 1000);
}

function renderQuestion(i) {
  if(i<0||i>=questions.length) return;
  current=i;
  renderProgress();
  const q = questions[i];
  let html = `<div class='question-card'>
    <div class='fw-bold mb-2'>Q${i+1}. ${q.question||''}</div>`;
  ['image_url','question_image','question_img','img'].forEach(k=>{ if(q[k]) html += `<img src='${q[k]}' alt='Question Image'>`; });
  html += `<div>`;
  for(let j=1;j<=10;j++) {
    if(q['option_'+j]) {
      let cls="";
      if(!reviewMode && answers[i]==j) cls="selected";
      else if(reviewMode){
        if(answers[i]==j && answers[i]==parseInt(q.answer)) cls="correct";
        else if(answers[i]==j && answers[i]!=parseInt(q.answer)) cls="incorrect";
        else if(j==parseInt(q.answer)) cls="correct";
      }
      html += `<div class='option ${cls}' onclick='selectOption(${i},${j})'>${q['option_'+j]}</div>`;
    }
  }
  html += `</div>`;
  if(reviewMode && q.solution) html += `<div class='mt-3 p-2 bg-light rounded'><b>Explanation:</b><br>${q.solution}</div>`;
  html += "</div>";
  document.getElementById("question-container").innerHTML=html;
  renderNav();
}

function renderNav() {
  let navHTML="";
  for(let k=0;k<questions.length;k++) {
    let cls="btn-outline-primary";
    if(answers[k]) cls="btn-primary text-white";
    if(k===current) cls="btn-dark text-white";
    navHTML+=`<button class='btn ${cls} btn-sm' onclick='renderQuestion(${k})'>${k+1}</button>`;
  }
  document.getElementById("question-nav").innerHTML=navHTML;
}

function renderProgress() { document.getElementById("progress-bar").style.width=((current+1)/questions.length*100)+"%"; }
function selectOption(qIndex,opt) { if(reviewMode) return; answers[qIndex]=opt; renderQuestion(qIndex); }
function nextQuestion() { if(current+1<questions.length) renderQuestion(current+1); }
function prevQuestion() { if(current>0) renderQuestion(current-1); }

function finalSubmit() {
  submitted=true;
  clearInterval(timer);
  document.getElementById('test-area').style.display='none';
  let correct=0,wrong=0,attempted=0;
  for(let i=0;i<questions.length;i++) {
    const a=parseInt(questions[i].answer);
    const u=answers[i];
    if(u) attempted++;
    if(u==a) correct++;
    else if(u && u!=a) wrong++;
  }
  const elapsedSeconds = Math.floor((Date.now() - startTime)/1000);
  document.getElementById('result-container').style.display='block';
  document.getElementById('result-container').innerHTML=
  `<h3>Result</h3>
   <p><b>Correct:</b> ${correct} | <b>Wrong:</b> ${wrong} | <b>Attempted:</b>/${questions.length}</p>
   <p><b>Total Time Taken:</b> ${formatHHMMSS(elapsedSeconds)}</p>
   <button class='btn btn-info' onclick='startReview()'>üìñ Review Answers</button>`;
}

function startReview() {
  reviewMode=true;
  document.getElementById('result-container').style.display='none';
  document.getElementById('test-area').style.display='block';
  renderQuestion(0);
}

window.onload = loadQuestions;
</script>

</body>
</html>
